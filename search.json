[{"path":"https://emanuelsommer.github.io/portvine/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 portvine authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"Get started","text":"sampling within estimation algorithms reproducible fixed seed (also holds parallel processing).","code":"#################### required ####################  library(portvine) #################### optional ####################  ## the following packages are only necessary for the visualizations # for visualization: library(ggplot2) library(patchwork) theme_set(   theme_minimal() +   theme(plot.title = ggtext::element_markdown(size = 11),         plot.subtitle = ggtext::element_markdown(size = 9)) ) # some data wrangling for visualizations library(dplyr) library(tidyr) set.seed(2)"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"the-data-set","dir":"Articles","previous_headings":"","what":"The data set","title":"Get started","text":"package comes small test data set containing 1000 daily log returns 3 stocks (Apple ~ AAPL, Alphabet ~ GOOG Amazon ~ AMZN). one financial year comprised roughly 250 days one data roughly 4 years. aim now estimate portfolio level risk measures last 40 days .e. interval \\([960,1000]\\). realistic scenario course short window. First one specifies marginal assetwise time series models.","code":"data(\"sample_returns_small\") head(sample_returns_small) #>            AAPL          GOOG         AMZN #> 1:  0.005221515 -0.0063910288 -0.016940943 #> 2:  0.019702688  0.0232542613  0.016639145 #> 3:  0.019878308 -0.0006788564 -0.004209719 #> 4: -0.005595481  0.0065947671 -0.000176859 #> 5: -0.024806737 -0.0049333142  0.009580031 #> 6:  0.015416878  0.0113819042  0.018446965 dim(sample_returns_small) #> [1] 1000    3"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"specify-marginal-models","dir":"Articles","previous_headings":"","what":"Specify marginal models","title":"Get started","text":"practice one example like refit marginal models every two months trading days roughly 50 days, refit every 20 days. training data size already specified interval interest .e. one uses whole available past first marginal window size 960.","code":""},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"the-unconditional-case","dir":"Articles","previous_headings":"Specify marginal models","what":"The unconditional case","title":"Get started","text":"unconditional case one deviate default thus marginal models ARMA(1,1)-GARCH(1,1) model fitted. default model can assessed via function default_garch_spec(). marginal model specifications collected marginal_settings object shown .","code":"default_garch_spec() #>  #> *---------------------------------* #> *       GARCH Model Spec          * #> *---------------------------------* #>  #> Conditional Variance Dynamics     #> ------------------------------------ #> GARCH Model      : sGARCH(1,1) #> Variance Targeting   : FALSE  #>  #> Conditional Mean Dynamics #> ------------------------------------ #> Mean Model       : ARFIMA(1,0,1) #> Include Mean     : TRUE  #> GARCH-in-Mean        : FALSE  #>  #> Conditional Distribution #> ------------------------------------ #> Distribution :  sstd  #> Includes Skew    :  TRUE  #> Includes Shape   :  TRUE  #> Includes Lambda  :  FALSE uncond_marg_settings <- marginal_settings(   train_size = 960,   refit_size = 20 )"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"the-conditional-case","dir":"Articles","previous_headings":"Specify marginal models","what":"The conditional case","title":"Get started","text":"conditional case one use individual specification. One changes default ARMA(1,2)-GARCH(1,1) model sticking default Amazon stock. next step specify settings vine fitting.","code":"cond_marg_settings <- marginal_settings(   train_size = 960,   refit_size = 20,   individual_spec = list(\"AMZN\" = default_garch_spec()),   default_spec = default_garch_spec(ma = 2) )"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"specify-vine-copula-models","dir":"Articles","previous_headings":"","what":"Specify vine copula models","title":"Get started","text":"one like refit vine copula models every 10 20 days allowed package 20 dividable 10. One like capture dependence training set 100 trading days rolling window.","code":""},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"the-unconditional-case-1","dir":"Articles","previous_headings":"Specify vine copula models","what":"The unconditional case","title":"Get started","text":"unconditional case one use default vine_type R-vine. bivariate building blocks vine copula one restrict oneself single parametric pair copulas. possible choices look help page function rvinecopulib::bicop().","code":"uncond_vine_settings <- vine_settings(   train_size = 100,   refit_size = 10,   family_set = \"onepar\", # valid bivariate building blocks   vine_type = \"rvine\" )"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"the-conditional-case-1","dir":"Articles","previous_headings":"Specify vine copula models","what":"The conditional case","title":"Get started","text":"conditional case now D-vine copulas allowed. copula families one pick arbitrary ones example. Note “parametric” nonrestrictive valid option . Now one ready perform actual risk measure estimation.","code":"cond_vine_settings <- vine_settings(   train_size = 100,   refit_size = 20,   family_set = c(\"gumbel\", \"joe\", \"t\"),   vine_type = \"dvine\" )"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"estimate-the-risk-measures","dir":"Articles","previous_headings":"","what":"Estimate the risk measures","title":"Get started","text":"risk measures estimated popular confidence levels 1% 2.5%. terms risk measures one like estimate Value Risk (VaR) expected shortfall (ES) mean estimation based small realistic sample size 50. realistic one 100000.","code":""},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"the-unconditional-case-2","dir":"Articles","previous_headings":"Estimate the risk measures","what":"The unconditional case","title":"Get started","text":"equally weighted portfolio three stocks assumed thus one can leave default NULLvalue weights argument. trace argument set TRUE trigger printing basic information training. workhorse function package well suited parallel even nested parallel processing. details look help page consult article covering parallel processing package website performance measurements. one can facilitate basic parallel processing just using commented code. estimated risk measures one can get short detailed summary process printing object calling summary method.","code":"## specify parallel strategy # future::plan(\"multisession\", workers = 4) uncond_risk_roll <- estimate_risk_roll(   data = sample_returns_small,   weights = NULL,   marginal_settings = uncond_marg_settings,   vine_settings = uncond_vine_settings,   alpha = c(0.01, 0.025),   risk_measures = c(\"VaR\", \"ES_mean\"),   n_samples = 50,   trace = TRUE ) #>  #> Fit marginal models: #> AAPL  GOOG  AMZN   #>  #> Fit vine copula models and estimate risk. #> Vine windows: #> (1/4) (2/4) (3/4) (4/4) ## return to default sequential settings (cut off any background processes) # future::plan(\"sequential\") uncond_risk_roll #> An object of class <portvine_roll> #> Number of ARMA-GARCH/ marginal windows: 2  #> Number of vine windows: 4  #> Risk measures estimated: VaR ES_mean  #> Alpha levels used: 0.01 0.025  #>  #> Time taken: 0.1563 minutes summary(uncond_risk_roll) #> An object of class <portvine_roll> #>  #> --- Marginal models --- #> Number of ARMA-GARCH/ marginal windows: 2  #> Train size:  960  #> Refit size:  20  #>  #> --- Vine copula models --- #> Number of vine windows: 4  #> Train size:  100  #> Refit size:  10  #> Vine copula type:  rvine  #> Vine family set:  onepar  #>  #> --- Risk estimation --- #> Risk measures estimated: VaR ES_mean  #> Alpha levels used: 0.01 0.025  #> Number of estimated risk measures: 160  #> Number of samples for each risk estimation: 50  #>  #> Time taken: 0.1563 minutes."},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"the-conditional-case-2","dir":"Articles","previous_headings":"Estimate the risk measures","what":"The conditional case","title":"Get started","text":"package currently supports two conditioning assets. single conditional case covered double conditional case almost identical. One choose Amazon stock conditioning asset (via cond_vars argument). Furthermore one give Alphabet stock greater weight weight conditioning asset must course zero. Note weights example according market capitalization can even changing vine window granularity level. cond_u argument specifies quantile level conditioning value. small quantile level emulate behavior weak performance conditioning Amazon stock. Details arguments given help page. estimated conditional risk measures one can get short detailed summary process printing object calling summary method.","code":"cond_risk_roll <- estimate_risk_roll(   data = sample_returns_small,   weights = c(\"AAPL\" = 1, \"GOOG\" = 2, \"AMZN\" = 0),   marginal_settings = cond_marg_settings,   vine_settings = cond_vine_settings,   alpha = c(0.01, 0.025),   risk_measures = c(\"VaR\", \"ES_mean\"),   n_samples = 50,   cond_vars = \"AMZN\",   cond_u = 0.1 ) cond_risk_roll #> An object of class <cond_portvine_roll> #> Conditional variable(s): AMZN  #> Number of ARMA-GARCH/ marginal windows: 2  #> Number of vine windows: 2  #> Risk measures estimated: VaR ES_mean  #> Alpha levels used: 0.01 0.025  #>  #> Time taken: 0.1637 minutes summary(cond_risk_roll) #> An object of class <cond_portvine_roll> #>  #> --- Conditional settings --- #> Conditional variable(s): AMZN  #> Number of conditional estimated risk measures: 320  #> Conditioning quantiles: 0.1  #>  #> --- Marginal models --- #> Number of ARMA-GARCH/ marginal windows: 2  #> Train size:  960  #> Refit size:  20  #>  #> --- Vine copula models --- #> Number of vine windows: 2  #> Train size:  100  #> Refit size:  20  #> Vine copula type:  dvine  #> Vine family set:  gumbel joe t  #>  #> --- Risk estimation --- #> Risk measures estimated: VaR ES_mean  #> Alpha levels used: 0.01 0.025  #> Number of estimated risk measures: 160  #> Number of samples for each risk estimation: 50  #>  #> Time taken: 0.1637 minutes."},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"assess-marginal-model-quality","dir":"Articles","previous_headings":"","what":"Assess marginal model quality","title":"Get started","text":"order extract marginal models one can use function fitted_marginals(). result named list rugarch::ugarchroll object asset. objects contain fitted marginal time series models. extraction fitted residuals residual analysis portvine package provides utility function roll_residuals(). following opinionated visualization function useful visual residual analysis given used. allows visualize raw standardized residuals, empirical autocorrelation function results (p-values) Ljung-Box tests serial correlation different lags. useful assess appropriateness mean equation ARMA-GARCH model. order assess volatility equation one can look visualization squared standardized residuals. function highly opinionated integrated portvine package. Apply function result unconditional estimation display residual plots Apple Alphabet.   better overview assets, especially higher dimensions, heatmap p-values Ljung-Box tests can useful. now showcase another opinionated utility function. time one uses result conditional risk measure estimation display function residual analysis. \\(h\\) denotes lag.  P-values lower 0.05 highlighted red heatmap easy spotting.","code":"names(fitted_marginals(uncond_risk_roll)) #> [1] \"AAPL\" \"GOOG\" \"AMZN\" # An opinionated function for residual analysis. Note this function has no  # input checks and is not tested in any ways. # Output: named list with a composition of residual plots for each asset marg_resid_viz_list <- function(   roll, # portvine_roll or cond_portvine_roll object   asset_names = NULL, # filter for certain  assets   marg_window = 1, # specify a marginal window   squared = FALSE # if set to true the results for the squared stand. residuals   # are displayed   ) {   fitted_marginals <- fitted_marginals(roll)   if (is.null(asset_names)) asset_names <- fitted_vines(roll)[[1]]$names   sapply(     asset_names,     function(asset_name) {       # use again a utility function from the portvine package to extract the        # fitted standardized residuals       model_resid <- roll_residuals(         fitted_marginals[[asset_name]], marg_window       )       if (squared) model_resid <- model_resid^2        simple_exploratory <- data.frame(resid = model_resid) %>%         mutate(id = seq(length(model_resid))) %>%         ggplot(aes(x = id, y = resid)) +         geom_line(size = 0.2) +         labs(x = \"t\", y = ifelse(squared, expression(z[t]^2),expression(z[t])),              title = asset_name) +         theme(axis.text.x = element_blank(),               axis.ticks.x = element_blank())        acf_plot <- data.frame(         acf = as.numeric(acf(model_resid, type = \"cor\", lag.max = 20,                              plot = FALSE)$acf),         lag = 0:20       ) %>%         filter(lag != 0 & lag <= 10) %>%         ggplot() +         geom_hline(yintercept = 0, col = \"black\", size = 0.3) +         geom_hline(yintercept = qnorm(c(0.025, 0.975)) /                      sqrt(length(model_resid)),                    linetype = \"longdash\", col = \"#92B8DE\", size = 0.5) +         geom_segment(aes(x = lag, xend = lag, y = 0, yend = acf)) +         geom_point(aes(x = lag, y = acf)) +         scale_x_continuous(breaks = seq(1, 10, 1)) +         ylim(-1, 1) +         labs(x = \"h\", y = \"ACF(h)\")        ljungplot <- data.frame(         pval = sapply(           1:10,           function(i) Box.test(model_resid, lag = i,                                type = \"Lju\")$p.value),         lag = 1:10) %>%         ggplot() +         geom_hline(yintercept = 0, col = \"black\", size = 0.3) +         geom_hline(yintercept = 0.05,                    linetype = \"longdash\", col = \"#92B8DE\", size = 0.5) +         geom_line(aes(x = lag, y = pval)) +         geom_point(aes(x = lag, y = pval)) +         scale_x_continuous(breaks = seq(1, 10, 1)) +         labs(x = \"h\", y = \"p-value of Ljung-Box test at lag h\")        (simple_exploratory / (ljungplot + acf_plot)) +         plot_layout(nrow = 2)     }, USE.NAMES = TRUE, simplify = FALSE) } uncond_residual_viz <- marg_resid_viz_list(uncond_risk_roll) #> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0. #> ℹ Please use `linewidth` instead. uncond_residual_viz_squared <- marg_resid_viz_list(   uncond_risk_roll, squared = TRUE ) uncond_residual_viz$AAPL uncond_residual_viz_squared$GOOG # The function creates a heatmap of Ljung Box test p-values for a  # (cond-)portvine_roll object. Note this function again has no  # input checks and is not tested in any ways. # Output: The heatmap (ggplot2 object) ljung_heatmap <- function(roll, roll_num = 1, squared = FALSE) {   asset_names <- fitted_vines(roll)[[1]]$names   roll_marginals <- fitted_marginals(roll)   ljung_data <- sapply(asset_names, function(asset_name) {     model_resid <- roll_residuals(       roll_marginals[[asset_name]], roll_num = roll_num     )     if (squared) model_resid <- model_resid^2     sapply(       1:10,       function(i) Box.test(model_resid, lag = i, type = \"Lju\")$p.value     )   }, USE.NAMES = TRUE, simplify = TRUE)   ljung_data <- ljung_data %>%     as.data.frame() %>%     mutate(lag = seq(nrow(ljung_data))) %>%     pivot_longer(-lag, names_to = \"asset\", values_to = \"pval\")   if (all(ljung_data$pval >= 0.05)) {     legend_scale <- scale_fill_gradient(       low = \"#92B8DE\", high = \"#2a82db\"     )   } else {     legend_scale <- scale_fill_gradientn(       colours = c(\"#db4f59\",\"#C37285\" ,                   \"#92B8DE\", \"#2a82db\"),       values = scales::rescale(c(0, 0.05 - 0.01, 0.05, 1)),       breaks = c(0.05),       labels = c(0.05),       guide = guide_colourbar(nbin = 1000))   }   ljung_data %>%     ggplot(aes(x = lag, y = asset, fill = pval)) +     geom_tile() +     scale_x_continuous(breaks = 1:10) +     labs(y = \"\", x = \"h\", fill = \"p-value\",          title = \"Results of the Ljung-Box tests\",          caption = paste(\"Rolling window:\", roll_num)) +     legend_scale +     theme(legend.position = \"right\",           panel.grid.minor.x = element_blank()) } ljung_heatmap(uncond_risk_roll)"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"a-look-at-the-fitted-vine-copulas","dir":"Articles","previous_headings":"","what":"A look at the fitted vine copulas","title":"Get started","text":"Next one can look fitted vine copulas. utility function available portvine package. function fitted_vines() extracts fitted vines list, one vine copula object vine window. list elements rvinecopulib::vinecop objects one can analyze tools great rvinecopulib package e.g. plot objects exploit graphical representation, aids interpretability.","code":"uncond_fitted_vines <- fitted_vines(uncond_risk_roll) uncond_fitted_vines[[3]] #> 3-dimensional vine copula fit ('vinecop') #> nobs = 100   logLik = 56   npars = 3   AIC = -106   BIC = -98.19"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"analyze-the-risk-measure-estimates","dir":"Articles","previous_headings":"","what":"Analyze the risk measure estimates","title":"Get started","text":"last utility function presented vignette risk_estimates() name suggests can used easily extract risk measure estimates estimation result object. One can filter risk measure, confidence levels also choose output data.frame data.table. Moreover optionally calculates logical column indicating whether risk measure exceeded. tidy representation can easily used visualizations. example comparisons risk measures time.  one can explore exceedances.  conditional case one can first look different conditional strategies behave. one side conditioning value based quantile level 0.1 forecasted (shown light blue) side residual strategy default set one uses realized residuals (shown green, almost overlay grey realized line). comparison conceptually oracle actual realized conditional asset returns known sampling time.  one can compare resulting conditional risk measure estimates.  course just tip iceberg countless visualizations possible point. Especially multiple conditional quantile levels stress testing scenario. especially promising comparison one comparing multiple levels quantile based risk measure estimates respective unconditional one. allows assess well unconditional approach accounts market risk portfolio associated fluctuations conditional asset(s). interpretation left exemplary workflows. Detailed case studies can found Sommer (2022).","code":"## a glimpse at the tidy data.frame with all estimated risk measures head(risk_estimates(uncond_risk_roll), 10) #>    risk_measure    risk_est alpha row_num vine_window     realized #> 1           VaR -0.06188025 0.010     961           1 -0.001246766 #> 2           VaR -0.04601638 0.025     961           1 -0.001246766 #> 3       ES_mean -0.07602761 0.010     961           1 -0.001246766 #> 4       ES_mean -0.06159152 0.025     961           1 -0.001246766 #> 5           VaR -0.08681665 0.010     962           1  0.048242745 #> 6           VaR -0.04667800 0.025     962           1  0.048242745 #> 7       ES_mean -0.12238695 0.010     962           1  0.048242745 #> 8       ES_mean -0.08609073 0.025     962           1  0.048242745 #> 9           VaR -0.06523401 0.010     963           1  0.011817887 #> 10          VaR -0.05740317 0.025     963           1  0.011817887  ## a glimpse at the estimated VaR at confidence level 1% with exceeded column head(   risk_estimates(     uncond_risk_roll,     risk_measures = \"VaR\",     alpha = 0.01,     exceeded = TRUE   ),   6 ) #>   risk_measure    risk_est alpha row_num vine_window     realized exceeded #> 1          VaR -0.06188025  0.01     961           1 -0.001246766    FALSE #> 2          VaR -0.08681665  0.01     962           1  0.048242745    FALSE #> 3          VaR -0.06523401  0.01     963           1  0.011817887    FALSE #> 4          VaR -0.07158635  0.01     964           1  0.012662108    FALSE #> 5          VaR -0.09355120  0.01     965           1  0.023044956    FALSE #> 6          VaR -0.16243081  0.01     966           1 -0.013655480    FALSE  ## of course also applies for the conditional case head(   risk_estimates(     cond_risk_roll,     risk_measures = \"ES_mean\",     alpha = 0.01,     cond_u = c(\"resid\", 0.1)   ),   6 ) #>   risk_measure    risk_est alpha row_num         AMZN cond_u vine_window #> 1      ES_mean -0.10061696  0.01     961 -0.021713172    0.1           1 #> 2      ES_mean -0.04510164  0.01     961 -0.008608346  resid           1 #> 3      ES_mean -0.15587622  0.01     962 -0.019582204    0.1           1 #> 4      ES_mean -0.03063455  0.01     962  0.015758643  resid           1 #> 5      ES_mean -0.11188717  0.01     963 -0.019476899    0.1           1 #> 6      ES_mean -0.02746862  0.01     963  0.008117431  resid           1 #>       realized #> 1  0.007439544 #> 2  0.007439544 #> 3  0.039189494 #> 4  0.039189494 #> 5 -0.002692899 #> 6 -0.002692899 risk_estimates(uncond_risk_roll, alpha = 0.025) %>%   ggplot() +   geom_line(aes(x = row_num, y = realized), col = \"grey\") +   geom_line(aes(x = row_num, y = risk_est,                 col = factor(risk_measure))) +   scale_color_manual(values = c(\"#92B8DE\", \"#477042\")) +   labs(x = \"trading day\",        y = \"portfolio log returns\",        col = \"Risk measure\",        title = \"Comparison of unconditional risk measure estimates at         confidence level 2.5%\",        subtitle = paste0(\"Realized log returns in \",                      \"<span style='color:\",                      \"grey\",                      \"'>**grey**<\/span>\",                      \".\")) risk_estimates(   uncond_risk_roll,   risk_measures = c(\"VaR\"),   alpha = 0.01,   exceeded = TRUE) %>%   ggplot() +   geom_line(aes(x = row_num, y = realized), col = \"lightgrey\") +   geom_line(aes(x = row_num, y = risk_est), col = \"#92B8DE\") +   geom_point(aes(x = row_num, y = realized), col = \"#db4f59\",               inherit.aes = FALSE, data = . %>% filter(exceeded)) +   labs(x = \"trading days\",        y = \"portfolio log returns\",        col = \"Exceeded\",        subtitle = paste0(\"Exceedances are highlighted in \",                      \"<span style='color:\",                      \"#db4f59\",                      \"'>**red**<\/span>\",                      \".\"),        title = \"Risk measure: VaR with confidence level 1%\"        ) +   theme(legend.position = \"none\") risk_estimates(   cond_risk_roll,   risk_measures = \"ES_mean\",   alpha = 0.01) %>%   ggplot() +   geom_line(     data = sample_returns_small[961:1000, \"AMZN\"],     aes(x = 961:1000,         y = AMZN), col = \"grey\", size = .3) +   geom_line(aes(x = row_num, y = AMZN, col = factor(cond_u)),             size = 0.5) +   scale_color_manual(values = c(\"#92B8DE\", \"#477042\"),                      name = \"Conditional strategy\") +   labs(title = \"Conditional variable: AMZN\",        x = \"trading days\", y = \"log returns of the asset AMZN\",        subtitle = paste0(\"Realized log returns in \",                      \"<span style='color:\",                      \"grey\",                      \"'>**grey**<\/span>\",                      \".\")) risk_estimates(cond_risk_roll, alpha = 0.025, risk_measures = \"ES_mean\") %>%   ggplot() +   geom_line(aes(x = row_num, y = realized), col = \"grey\") +   geom_line(aes(x = row_num, y = risk_est,                 col = factor(cond_u))) +   scale_color_manual(values = c(\"#477042\", \"#92B8DE\")) +   labs(x = \"trading day\",        y = \"portfolio log returns\",        col = \"Conditional strategy\",        title = \"Comparison of conditional risk measure estimates at         confidence level 2.5%\",        subtitle = paste0(\"Realized log returns in \",                      \"<span style='color:\",                      \"grey\",                      \"'>**grey**<\/span>\",                      \".\"))"},{"path":"https://emanuelsommer.github.io/portvine/articles/get_started.html","id":"backtesting-the-estimated-risk-measures","dir":"Articles","previous_headings":"","what":"Backtesting the estimated risk measures","title":"Get started","text":"risk measure estimation performed many cases performed goal backtesting mind. can easily achieved given objects returned estimate_risk_roll() function. already excellent resources performing suggestions implementations can applied portfolio level setting: Value Risk backtesting: package rugarch contains straightforward use function rugarch::VaRTest(). features classical backtests based violation sequences. Expected shortfall backtesting: package esback contains suite easy use theoretically backed backtests expected shortfall.","code":""},{"path":"https://emanuelsommer.github.io/portvine/articles/parallel.html","id":"nested-parallel-processing","dir":"Articles","previous_headings":"","what":"Nested parallel processing","title":"Parallel processing","text":"portvine package allows nested parallel processing .e.two levels parallel processes. levels following. first level allows fit univariate time series models asset parallel fit vine window parallel. second level allows specified within vine window time units, often days, processed using parallel processes. one use notation \\(p_1\\)/\\(p_2\\) possible parallel strategies \\(p_1\\) specifies number parallel processes/cores first level \\(p_2\\) number parallel processes/cores every first level process can turn call. means 1/1 default sequential case, 5/1 use first level parallelization 8/2 require 16 cores every first level parallel process can use 2 parallel processes iterating time units/days. illustration two first processing rounds nested parallelization vine windows can found .","code":""},{"path":"https://emanuelsommer.github.io/portvine/articles/parallel.html","id":"performance-measurements","dir":"Articles","previous_headings":"","what":"Performance measurements","title":"Parallel processing","text":"measurements performed Linux Cluster Leibniz Supercomputing Centre. provided computational resources gratefully acknowledged. used R version 3.6.0. Throughout measurements one always estimate VaR ES two \\(\\alpha\\) levels .","code":""},{"path":"https://emanuelsommer.github.io/portvine/articles/parallel.html","id":"the-unconditional-case","dir":"Articles","previous_headings":"Performance measurements","what":"The unconditional case","title":"Parallel processing","text":"Especially 100000 samples use 40 cores 10/4 instead 20 cores 10/2 pays almost linearly. maximum strategy 10/25 achieves great runtime 7 minutes. reasonable sample size 10000 one can see already 20 cores one can achieve quite quick runtime roughly 5 minutes. Also seems reasonable assign many parallel processes possible number vine windows first level parallelization assign many additional processes second level parallelization. however changes really large sample sizes can seen assigning lots processes second level might pay . evident looking strategy 1/25.","code":""},{"path":"https://emanuelsommer.github.io/portvine/articles/parallel.html","id":"the-conditional-case","dir":"Articles","previous_headings":"Performance measurements","what":"The conditional case","title":"Parallel processing","text":"conditional approach performs almost identical single two conditional variables one displays just performance measures single conditional case. Furthermore one estimate two quantile levels \\(\\alpha^\\)/cond_u 5% 50%. conditional risk measure estimation approach expected longer runtimes mostly due fact specified quantile level cond_u additional prior residual risk estimates one sample \\(S\\)/n_samples conditional samples. specified two quantile levels means one samples 3 times many conditional samples unconditional samples unconditional risk estimation approach. Moreover overhead conditional estimation slightly higher.  annotated plot observation maximal strategy 10/25 sample size 100000 corresponds estimation 1 conditional quantile 2 conditional quantiles come extensive memory requirements >100Gb. fact one directly expects estimation roughly 33% faster. even adjusting expected 33% faster result one observes drop another 44% runtime particular parallel strategy.   hope measurements help little choosing appropriate parallel strategy needs.","code":""},{"path":"https://emanuelsommer.github.io/portvine/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Emanuel Sommer. Maintainer, author.","code":""},{"path":"https://emanuelsommer.github.io/portvine/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sommer E (2023). portvine: Vine Based (Un)Conditional Portfolio Risk Measure Estimation. https://github.com/EmanuelSommer/portvine, https://emanuelsommer.github.io/portvine/.","code":"@Manual{,   title = {portvine: Vine Based (Un)Conditional Portfolio Risk Measure Estimation},   author = {Emanuel Sommer},   year = {2023},   note = {https://github.com/EmanuelSommer/portvine, https://emanuelsommer.github.io/portvine/}, }"},{"path":"https://emanuelsommer.github.io/portvine/index.html","id":"portvine-","dir":"","previous_headings":"","what":"Vine Based (Un)Conditional Portfolio Risk Measure Estimation","title":"Vine Based (Un)Conditional Portfolio Risk Measure Estimation","text":"Portfolio level unconditional well conditional risk measure estimation backtesting stress testing using Vine Copula ARMA-GARCH models. package implements proposed approaches Sommer (2022).","code":""},{"path":"https://emanuelsommer.github.io/portvine/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Vine Based (Un)Conditional Portfolio Risk Measure Estimation","text":"can install released version portvine CRAN : can install development version portvine GitHub :","code":"install.packages(\"portvine\") # install.packages(\"devtools\") devtools::install_github(\"EmanuelSommer/portvine\")"},{"path":"https://emanuelsommer.github.io/portvine/index.html","id":"what-it-does-and-why","dir":"","previous_headings":"","what":"What it does and why","title":"Vine Based (Un)Conditional Portfolio Risk Measure Estimation","text":"implemented algorithms unconditional well conditional portfolio level risk measure estimation based masters thesis chair Mathematical Statistics TUM can find . general idea unconditional risk measure estimation approach summarized flowchart -dimensional portfolio.  single conditional approach general idea -dimensional portfolio market index  summarized flowchart .  want get hands dirty fast Get Started vignette perfect fit showcases minimal case study lot code examples handy visualization functions incorporated package highly opinionated. order grasp going hood look hood article package website advised starting use package. important algorithms used risk measure estimation explained. doesn’t saturate hunger theory behind package take look Sommer (2022). Moreover help pages quite detailed feel free look .","code":""},{"path":"https://emanuelsommer.github.io/portvine/index.html","id":"parallel-processing","dir":"","previous_headings":"","what":"Parallel processing","title":"Vine Based (Un)Conditional Portfolio Risk Measure Estimation","text":"risk estimation algorithms implemented package lend perfectly parallel processing. package enabled humble opinion amazing future framework. details please look detailed section parallel processing within help page estimate_risk_roll() function (function reference package website). performance measurements different parallel strategies information implemented parallelisms presented Parallel processing article package website.","code":""},{"path":"https://emanuelsommer.github.io/portvine/index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"Vine Based (Un)Conditional Portfolio Risk Measure Estimation","text":"package built shoulder giants importantly R packages rvinecopulib rugarch. Thus big thanks goes contributors maintainers! Also like thank supervisors Prof. Claudia Czado M.Sc. Karoline Bax giving opportunity work project dedicated supervision!","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/default_garch_spec.html","id":null,"dir":"Reference","previous_headings":"","what":"Default specifications for ARMA-GARCH models — default_garch_spec","title":"Default specifications for ARMA-GARCH models — default_garch_spec","text":"function used default univariate model fitting .e. marginal models can used easily specify different individual marginal model specification default marginal_settings(). ARMA(ar,ma)-GARCH(arch,garch) fitted  distribution given dist specifies conditional density used innovations.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/default_garch_spec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default specifications for ARMA-GARCH models — default_garch_spec","text":"","code":"default_garch_spec(ar = 1, ma = 1, arch = 1, garch = 1, dist = \"sstd\")"},{"path":"https://emanuelsommer.github.io/portvine/reference/default_garch_spec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default specifications for ARMA-GARCH models — default_garch_spec","text":"ar integer autoregressive order ma integer moving average order arch integer ARCH order garch integer GARCH order dist single character value possible distributions allowed rugarch::ugarchspec","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/default_garch_spec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default specifications for ARMA-GARCH models — default_garch_spec","text":"object class rugarch::ugarchspec","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/default_garch_spec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Default specifications for ARMA-GARCH models — default_garch_spec","text":"","code":"# the default is then just using default_garch_spec() #>  #> *---------------------------------* #> *       GARCH Model Spec          * #> *---------------------------------* #>  #> Conditional Variance Dynamics \t #> ------------------------------------ #> GARCH Model\t\t: sGARCH(1,1) #> Variance Targeting\t: FALSE  #>  #> Conditional Mean Dynamics #> ------------------------------------ #> Mean Model\t\t: ARFIMA(1,0,1) #> Include Mean\t\t: TRUE  #> GARCH-in-Mean\t\t: FALSE  #>  #> Conditional Distribution #> ------------------------------------ #> Distribution\t:  sstd  #> Includes Skew\t:  TRUE  #> Includes Shape\t:  TRUE  #> Includes Lambda\t:  FALSE  #>  # to specify a ARMA(2,2)-GARCH(1,1) model with normal residual distribution default_garch_spec(ar = 2, ma = 2, dist = \"norm\") #>  #> *---------------------------------* #> *       GARCH Model Spec          * #> *---------------------------------* #>  #> Conditional Variance Dynamics \t #> ------------------------------------ #> GARCH Model\t\t: sGARCH(1,1) #> Variance Targeting\t: FALSE  #>  #> Conditional Mean Dynamics #> ------------------------------------ #> Mean Model\t\t: ARFIMA(2,0,2) #> Include Mean\t\t: TRUE  #> GARCH-in-Mean\t\t: FALSE  #>  #> Conditional Distribution #> ------------------------------------ #> Distribution\t:  norm  #> Includes Skew\t:  FALSE  #> Includes Shape\t:  FALSE  #> Includes Lambda\t:  FALSE  #>"},{"path":"https://emanuelsommer.github.io/portvine/reference/est_es.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Expected Shortfall (ES) — est_es","title":"Estimate the Expected Shortfall (ES) — est_es","text":"Expected Shortfall level \\(\\alpha\\) defined expected value returns condition returns smaller Value Risk \\(\\alpha\\) level. Note absolutely continuous distribution returns assumed. three estimation methods : mean mean samples fall corresponding VaR. median median samples fall corresponding VaR. mc Calculation expected value using Monte Carlo integration \\(\\alpha\\) levels. One draws mc_samples Monte Carlo samples .","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/est_es.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Expected Shortfall (ES) — est_es","text":"","code":"est_es(sample, alpha, method = c(\"mean\", \"median\", \"mc\"), mc_samples = 100)"},{"path":"https://emanuelsommer.github.io/portvine/reference/est_es.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Expected Shortfall (ES) — est_es","text":"sample Numeric vector representing sample upon Expected Shortfall calculated. alpha Numeric vector entries (0,1) specifying levels ES calculated. method Method estimation one mean, median, mc. information see Description section. mc_samples Number Monte Carlo samples used mc method.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/est_es.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Expected Shortfall (ES) — est_es","text":"Numeric vector Expected Shortfall estimates (length alpha).","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/est_es.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Expected Shortfall (ES) — est_es","text":"","code":"est_es(0:100, c(0.1, 0.2, 0.3)) #> [1]  5 10 15"},{"path":"https://emanuelsommer.github.io/portvine/reference/est_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Value at Risk (VaR) — est_var","title":"Estimate the Value at Risk (VaR) — est_var","text":"VaR defined empirical \\(\\alpha\\) level quantile empirical distribution based return sample.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/est_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Value at Risk (VaR) — est_var","text":"","code":"est_var(sample, alpha)"},{"path":"https://emanuelsommer.github.io/portvine/reference/est_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Value at Risk (VaR) — est_var","text":"sample Numeric vector representing sample upon Value Risk calculated. alpha Numeric vector entries (0,1) specifying levels VaR calculated.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/est_var.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Value at Risk (VaR) — est_var","text":"Numeric vector VaR estimates (length alpha).","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/est_var.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Value at Risk (VaR) — est_var","text":"","code":"est_var(0:100, c(0.1, 0.2, 0.3)) #> [1] 10 20 30"},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":null,"dir":"Reference","previous_headings":"","what":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"main workhorse function lot going hood advised look vignettes even better package website provide detailed hands theoretical documentation function intended used. short summarized explanation look Details section .","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"","code":"estimate_risk_roll(   data,   weights = NULL,   marginal_settings,   vine_settings,   alpha = 0.05,   risk_measures = c(\"VaR\", \"ES_mean\"),   n_samples = 1000,   cond_vars = NULL,   cond_u = 0.05,   n_mc_samples = 1000,   trace = FALSE,   cutoff_depth = NULL,   prior_resid_strategy = FALSE )"},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"data Matrix, data.frame object coercible data.table storing numeric asset returns named columns (least 3). Moreover missing values must imputed beforehand. weights Corresponding named non-negative weights assets (conditioning variables must weight 0). Default NULL gives equal weight non conditional asset. Alternatively one can use matrix many rows vine windows changing weights. matrix must column names corresponding assets conditional assets weight 0. marginal_settings marginal_settings S4 object containing needed information ARMA-GARCH .e. marginal models fitting. Note marginal_settings vine_settings objects match described . vine_settings vine_settings S4 object containing needed information vine copula model fitting. Note marginal_settings vine_settings objects match described . alpha Numeric vector specifying confidence levels (0,1) risk measures calculated. risk_measures Character vector valid choices risk measures estimate. Currently available Value Risk VaR implemented est_var() 3 estimation methods Expected Shortfall ES_mean, ES_median ES_mc implemented est_es() . n_samples Positive count samples used base risk measure estimation. cond_vars Names variables sample conditionally (currently \\(\\le 2\\) variables). cond_u Numeric vector specifying corresponding quantiles (0,1) conditional variable(s) conditioned conditional risk measures calculated. Additionally always conditioning values corresponding residual one time unit prior used conditional variables (cond_u = 'prior_resid' risk measure output) flagprior_resid set TRUE, otherwise conditioning values corresponding realized residual used (cond_u = 'resid' risk measure output). latter case corresponds default. n_mc_samples Positive count samples Monte Carlo integration risk measure ES_mc used. (See est_es()) trace set TRUE algorithm print little information running. cutoff_depth Positive count specifies depth edges constructed D-vine copula considered algorithm determines ordering D-vine fitting using partial correlations. default NULL considers edges seems use cases reasonable. argument relevant D-vines used. prior_resid_strategy Logical flag indicates whether additionally used conditioning values prior day residual (flag TRUE) realized residuals used. default realized residuals. Note resulting conditional risk measures use realized data comparisons suffer information leakage.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"unconditional case S4 object class portvine_roll conditional case child class cond_portvine_roll. details see portvine_roll.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"Roughly speaking function performs following steps unconditional risk measure estimation: Fit asset marginal time series models .e. ARMA-GARCH models rolling window fashion. models well rolling window size training size specified via marginal_settings argument. Model dependence assets vine copula model trained standardized residuals transformed copula scale via probability integral transform. also performed rolling window fashion one can use window size vine windows used marginal ones smaller window size. window size, training size vine copula well copula fitting arguments specified via vine_settings argument. Using copula forecasted means volatilities assets one simulates n_samples many forecasted portfolio level log returns every time unit every specified rolling window. Based samples one estimates portfolio level risk measures. Additionally one can perform conditional risk measure estimation two conditional log return series like market indices. Using approach change marginal models part copula D-vine special ordering .e. index indices fixed rightmost leafs fitted. One simulates conditional forecasted portfolio log returns results conditional risk measure estimates can particularly interesting stress testing like situations. One conditions pre-specified quantile level (cond_u) conditioning assets (cond_vars) comparison one also conditions either behavior conditioning asset one time unit (prior_resid_strategy = TRUE) realized behavior conditioning asset (prior_resid_strategy = FALSE).","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":"matching-marginal-and-vine-settings","dir":"Reference","previous_headings":"","what":"Matching marginal and vine settings","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"First must least 2 marginal windows. Thus train_size + refit_size slot marginal_settings class object must smaller overall input data size. Moreover refit_size marginal models must dividable refit_size vine copula models e.g. possible combinations 50 50, 50 25, 50 10. Furthermore train_size vines must smaller equal train_size marginal models.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":"parallel-processing","dir":"Reference","previous_headings":"","what":"Parallel processing","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"function uses future framework parallelization allows maximum flexibility user safe speedups example regarding random number generation. default course standard non parallel sequential evaluation. user nothing order default work. user wants run code parallel many options parallel single machine high performance compute (HPC) cluster, just one setting switch .e. calling function future::plan() respective argument function call. Common options future::plan(\"multisession\") works major operating systems uses available cores run code parallel local R sessions. specify number workers use future::plan(\"multisession\", workers = 2). go back sequential processing shut parallel sessions use future::plan(\"sequential\"). information look future::plan(). two following loops processed parallel default parallel future::plan() set: marginal model fitting .e. assets individually parallel. vine windows .e. risk estimates corresponding vine copula models computed parallel rolling vine window. addition function allows nested parallelization done care. addition 2 loops one can run computation time unit vine windows parallel might especially interesting n_samples argument large. default parallelization tweaked parallelize first level parallelization 2 loops . can achieved e.g. via future::plan(list(future::tweak(future::multisession, workers = 4), future::tweak(future::multisession, workers = 2))). setting run 2 primary loops 4 parallel R sessions addition 4 primary parallel sessions use 2 sessions within nested parallel loop time units vine window. results need least 2 times 4 8 threads hardware side. details can found extensive documentation future framework.","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"Emanuel Sommer","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/estimate_risk_roll.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"(Un-)conditional rolling risk estimation using vine copulas — estimate_risk_roll","text":"","code":"# For better illustrated examples have a look at the vignettes # and/or the package website. # \\donttest{ data(\"sample_returns_small\") ex_marg_settings <- marginal_settings(   train_size = 900,   refit_size = 50 ) ex_vine_settings <- vine_settings(   train_size = 100,   refit_size = 50,   family_set = c(\"gaussian\", \"gumbel\"),   vine_type = \"dvine\" ) # unconditionally risk_roll <- estimate_risk_roll(   sample_returns_small,   weights = NULL,   marginal_settings = ex_marg_settings,   vine_settings = ex_vine_settings,   alpha = c(0.01, 0.05),   risk_measures = c(\"VaR\", \"ES_mean\"),   n_samples = 10,   trace = FALSE ) # conditional on one asset risk_roll_cond <- estimate_risk_roll(   sample_returns_small,   weights = NULL,   marginal_settings = ex_marg_settings,   vine_settings = ex_vine_settings,   alpha = c(0.01, 0.05),   risk_measures = c(\"VaR\", \"ES_mean\"),   n_samples = 10,   cond_vars = \"GOOG\",   cond_u = c(0.05, 0.5),   trace = FALSE,   prior_resid_strategy = TRUE )  # have a superficial look risk_roll_cond #> An object of class <cond_portvine_roll> #> Conditional variable(s): GOOG  #> Number of ARMA-GARCH/ marginal windows: 2  #> Number of vine windows: 2  #> Risk measures estimated: VaR ES_mean  #> Alpha levels used: 0.01 0.05  #>  #> Time taken: 0.2393 minutes  # a slightly more detailed look summary(risk_roll_cond) #> An object of class <cond_portvine_roll> #>  #> --- Conditional settings --- #> Conditional variable(s): GOOG  #> Number of conditional estimated risk measures: 1200  #> Conditioning quantiles: 0.05 0.5  #>  #> --- Marginal models --- #> Number of ARMA-GARCH/ marginal windows: 2  #> Train size:  900  #> Refit size:  50  #>  #> --- Vine copula models --- #> Number of vine windows: 2  #> Train size:  100  #> Refit size:  50  #> Vine copula type:  dvine  #> Vine family set:  gaussian gumbel  #>  #> --- Risk estimation --- #> Risk measures estimated: VaR ES_mean  #> Alpha levels used: 0.01 0.05  #> Number of estimated risk measures: 400  #> Number of samples for each risk estimation: 10  #>  #> Time taken: 0.2393 minutes.   # actually use the results by extracting important fitted quantities fitted_vines(risk_roll_cond) #> [[1]] #> 3-dimensional vine copula fit ('vinecop') #> nobs = 100   logLik = 54.82   npars = 3   AIC = -103.64   BIC = -95.82    #>  #> [[2]] #> 3-dimensional vine copula fit ('vinecop') #> nobs = 100   logLik = 67.96   npars = 3   AIC = -129.93   BIC = -122.11    #>  fitted_marginals(risk_roll_cond) #> $AAPL #>  #> *-------------------------------------* #> *              GARCH Roll             * #> *-------------------------------------* #> No.Refits\t\t: 2 #> Refit Horizon\t: 50 #> No.Forecasts\t: 100 #> GARCH Model\t\t: sGARCH(1,1) #> Distribution\t: sstd  #>  #> Forecast Density: #>                Mu  Sigma   Skew  Shape Shape(GIG) Realized #> 1972-06-20 0.0016 0.0139 1.0245 3.4459          0   0.0061 #> 1972-06-21 0.0016 0.0137 1.0245 3.4459          0  -0.0363 #> 1972-06-22 0.0009 0.0153 1.0245 3.4459          0   0.0138 #> 1972-06-23 0.0012 0.0152 1.0245 3.4459          0   0.0149 #> 1972-06-24 0.0014 0.0152 1.0245 3.4459          0   0.0109 #> 1972-06-25 0.0015 0.0151 1.0245 3.4459          0  -0.0040 #>  #> .......................... #>                Mu  Sigma   Skew  Shape Shape(GIG) Realized #> 1972-09-22 0.0012 0.0118 1.0413 3.5337          0   0.0038 #> 1972-09-23 0.0012 0.0116 1.0413 3.5337          0   0.0000 #> 1972-09-24 0.0012 0.0114 1.0413 3.5337          0  -0.0257 #> 1972-09-25 0.0007 0.0124 1.0413 3.5337          0   0.0002 #> 1972-09-26 0.0008 0.0122 1.0413 3.5337          0   0.0028 #> 1972-09-27 0.0009 0.0120 1.0413 3.5337          0  -0.0109 #>  #> Elapsed: 1.518173 secs #>  #> $GOOG #>  #> *-------------------------------------* #> *              GARCH Roll             * #> *-------------------------------------* #> No.Refits\t\t: 2 #> Refit Horizon\t: 50 #> No.Forecasts\t: 100 #> GARCH Model\t\t: sGARCH(1,1) #> Distribution\t: sstd  #>  #> Forecast Density: #>               Mu  Sigma   Skew  Shape Shape(GIG) Realized #> 1972-06-20 6e-04 0.0106 0.9752 4.1755          0  -0.0042 #> 1972-06-21 5e-04 0.0104 0.9752 4.1755          0  -0.0171 #> 1972-06-22 2e-04 0.0120 0.9752 4.1755          0   0.0079 #> 1972-06-23 7e-04 0.0117 0.9752 4.1755          0   0.0090 #> 1972-06-24 9e-04 0.0116 0.9752 4.1755          0  -0.0005 #> 1972-06-25 7e-04 0.0110 0.9752 4.1755          0   0.0051 #>  #> .......................... #>               Mu  Sigma   Skew  Shape Shape(GIG) Realized #> 1972-09-22 5e-04 0.0108 0.9821 4.2039          0  -0.0012 #> 1972-09-23 6e-04 0.0105 0.9821 4.2039          0  -0.0033 #> 1972-09-24 6e-04 0.0103 0.9821 4.2039          0  -0.0032 #> 1972-09-25 6e-04 0.0101 0.9821 4.2039          0  -0.0070 #> 1972-09-26 4e-04 0.0101 0.9821 4.2039          0  -0.0012 #> 1972-09-27 6e-04 0.0099 0.9821 4.2039          0  -0.0017 #>  #> Elapsed: 1.485058 secs #>  #> $AMZN #>  #> *-------------------------------------* #> *              GARCH Roll             * #> *-------------------------------------* #> No.Refits\t\t: 2 #> Refit Horizon\t: 50 #> No.Forecasts\t: 100 #> GARCH Model\t\t: sGARCH(1,1) #> Distribution\t: sstd  #>  #> Forecast Density: #>                Mu  Sigma   Skew  Shape Shape(GIG) Realized #> 1972-06-20 0.0011 0.0145 1.0226 3.2239          0  -0.0079 #> 1972-06-21 0.0012 0.0144 1.0226 3.2239          0  -0.0259 #> 1972-06-22 0.0004 0.0150 1.0226 3.2239          0   0.0115 #> 1972-06-23 0.0025 0.0149 1.0226 3.2239          0   0.0157 #> 1972-06-24 0.0012 0.0149 1.0226 3.2239          0  -0.0006 #> 1972-06-25 0.0014 0.0148 1.0226 3.2239          0  -0.0047 #>  #> .......................... #>                Mu  Sigma   Skew  Shape Shape(GIG) Realized #> 1972-09-22 0.0013 0.0153 1.0288 3.4609          0  -0.0024 #> 1972-09-23 0.0013 0.0151 1.0288 3.4609          0  -0.0055 #> 1972-09-24 0.0012 0.0149 1.0288 3.4609          0   0.0072 #> 1972-09-25 0.0018 0.0148 1.0288 3.4609          0   0.0047 #> 1972-09-26 0.0013 0.0146 1.0288 3.4609          0   0.0032 #> 1972-09-27 0.0016 0.0144 1.0288 3.4609          0  -0.0141 #>  #> Elapsed: 1.581227 secs #>   # and of course most importantly the risk measure estimates risk_estimates(   risk_roll,   risk_measures = \"ES_mean\",   alpha = 0.05, exceeded = TRUE ) #>     risk_measure     risk_est alpha row_num vine_window      realized exceeded #> 1        ES_mean -0.021926751  0.05     901           1 -0.0060446548    FALSE #> 2        ES_mean -0.072047293  0.05     902           1 -0.0792850109     TRUE #> 3        ES_mean -0.027515168  0.05     903           1  0.0331630350    FALSE #> 4        ES_mean -0.113040246  0.05     904           1  0.0396444178    FALSE #> 5        ES_mean -0.007737145  0.05     905           1  0.0098307520    FALSE #> 6        ES_mean -0.032465967  0.05     906           1 -0.0035546832    FALSE #> 7        ES_mean -0.034819509  0.05     907           1 -0.0549415153     TRUE #> 8        ES_mean -0.027323470  0.05     908           1 -0.0048120862    FALSE #> 9        ES_mean -0.017552348  0.05     909           1 -0.0116750983    FALSE #> 10       ES_mean -0.139170553  0.05     910           1  0.0500823533    FALSE #> 11       ES_mean -0.040467586  0.05     911           1 -0.0055013938    FALSE #> 12       ES_mean -0.045063660  0.05     912           1 -0.0164475619    FALSE #> 13       ES_mean -0.049040808  0.05     913           1 -0.0097478129    FALSE #> 14       ES_mean -0.028486169  0.05     914           1  0.0085510175    FALSE #> 15       ES_mean -0.015597269  0.05     915           1  0.0254935553    FALSE #> 16       ES_mean -0.072916455  0.05     916           1  0.0257264559    FALSE #> 17       ES_mean -0.041211296  0.05     917           1  0.0277721259    FALSE #> 18       ES_mean -0.006748809  0.05     918           1 -0.0042152555    FALSE #> 19       ES_mean -0.023916840  0.05     919           1 -0.0349681922     TRUE #> 20       ES_mean -0.028483808  0.05     920           1  0.0008786021    FALSE #> 21       ES_mean -0.024302644  0.05     921           1  0.0166985327    FALSE #> 22       ES_mean -0.207266932  0.05     922           1 -0.0405427416    FALSE #> 23       ES_mean -0.021231481  0.05     923           1  0.0331199507    FALSE #> 24       ES_mean -0.022487450  0.05     924           1  0.0039553287    FALSE #> 25       ES_mean -0.053379980  0.05     925           1  0.0128577234    FALSE #> 26       ES_mean -0.021241584  0.05     926           1 -0.0267688040     TRUE #> 27       ES_mean -0.016239860  0.05     927           1 -0.0006434490    FALSE #> 28       ES_mean -0.026031807  0.05     928           1 -0.0262126037     TRUE #> 29       ES_mean -0.053405905  0.05     929           1  0.0033384649    FALSE #> 30       ES_mean -0.066293079  0.05     930           1 -0.0029087903    FALSE #> 31       ES_mean -0.059956703  0.05     931           1 -0.0252220647    FALSE #> 32       ES_mean -0.049435529  0.05     932           1 -0.0239892893    FALSE #> 33       ES_mean -0.032917692  0.05     933           1 -0.0331961832     TRUE #> 34       ES_mean -0.057183157  0.05     934           1  0.0200051369    FALSE #> 35       ES_mean -0.015335569  0.05     935           1  0.0410831353    FALSE #> 36       ES_mean -0.032890439  0.05     936           1  0.0049106979    FALSE #> 37       ES_mean -0.076723699  0.05     937           1  0.0206976658    FALSE #> 38       ES_mean -0.035632113  0.05     938           1 -0.0103703417    FALSE #> 39       ES_mean -0.024703633  0.05     939           1  0.0068955614    FALSE #> 40       ES_mean -0.013981288  0.05     940           1 -0.0042075885    FALSE #> 41       ES_mean -0.019755864  0.05     941           1  0.0472190581    FALSE #> 42       ES_mean -0.049754228  0.05     942           1  0.0174462155    FALSE #> 43       ES_mean -0.030091651  0.05     943           1  0.0029622239    FALSE #> 44       ES_mean  0.004478568  0.05     944           1 -0.0079606363     TRUE #> 45       ES_mean -0.037675619  0.05     945           1  0.0290050274    FALSE #> 46       ES_mean -0.058749974  0.05     946           1  0.0009861917    FALSE #> 47       ES_mean -0.045759099  0.05     947           1  0.0102032712    FALSE #> 48       ES_mean -0.051300474  0.05     948           1  0.0239672051    FALSE #> 49       ES_mean -0.072782590  0.05     949           1  0.0066334433    FALSE #> 50       ES_mean -0.023516583  0.05     950           1 -0.0158926637    FALSE #> 51       ES_mean -0.064043537  0.05     951           2 -0.0428770390    FALSE #> 52       ES_mean -0.024499804  0.05     952           2  0.0017742398    FALSE #> 53       ES_mean -0.092281484  0.05     953           2 -0.0377435814    FALSE #> 54       ES_mean -0.006437911  0.05     954           2  0.0179789801    FALSE #> 55       ES_mean -0.027683027  0.05     955           2 -0.0045997955    FALSE #> 56       ES_mean -0.032083094  0.05     956           2  0.0050882039    FALSE #> 57       ES_mean -0.017809012  0.05     957           2  0.2062438419    FALSE #> 58       ES_mean -0.022968806  0.05     958           2  0.0290894526    FALSE #> 59       ES_mean -0.199794327  0.05     959           2  0.0083306529    FALSE #> 60       ES_mean -0.051676822  0.05     960           2 -0.0055718246    FALSE #> 61       ES_mean -0.055240226  0.05     961           2 -0.0012467665    FALSE #> 62       ES_mean -0.064317863  0.05     962           2  0.0482427451    FALSE #> 63       ES_mean -0.037578169  0.05     963           2  0.0118178873    FALSE #> 64       ES_mean -0.022372819  0.05     964           2  0.0126621081    FALSE #> 65       ES_mean -0.067184666  0.05     965           2  0.0230449564    FALSE #> 66       ES_mean -0.045113759  0.05     966           2 -0.0136554800    FALSE #> 67       ES_mean -0.008818012  0.05     967           2 -0.0133549994     TRUE #> 68       ES_mean -0.031156574  0.05     968           2 -0.0028859506    FALSE #> 69       ES_mean -0.036001773  0.05     969           2 -0.0082197477    FALSE #> 70       ES_mean -0.037509095  0.05     970           2 -0.0272196497    FALSE #> 71       ES_mean -0.241079893  0.05     971           2  0.0325291332    FALSE #> 72       ES_mean -0.026342033  0.05     972           2 -0.0251776577    FALSE #> 73       ES_mean -0.037007724  0.05     973           2 -0.0048611406    FALSE #> 74       ES_mean -0.062878795  0.05     974           2  0.0457490940    FALSE #> 75       ES_mean -0.025368035  0.05     975           2  0.0264002730    FALSE #> 76       ES_mean -0.013375935  0.05     976           2  0.0300177806    FALSE #> 77       ES_mean -0.029916747  0.05     977           2  0.0161965898    FALSE #> 78       ES_mean -0.055681298  0.05     978           2 -0.0142138901    FALSE #> 79       ES_mean -0.065081858  0.05     979           2 -0.0733127141     TRUE #> 80       ES_mean -0.072940778  0.05     980           2  0.0268845682    FALSE #> 81       ES_mean -0.063545902  0.05     981           2 -0.0280441016    FALSE #> 82       ES_mean -0.032473124  0.05     982           2 -0.0435108609     TRUE #> 83       ES_mean -0.066570188  0.05     983           2  0.0122123253    FALSE #> 84       ES_mean -0.019468184  0.05     984           2  0.0187544970    FALSE #> 85       ES_mean -0.034113013  0.05     985           2  0.0205165005    FALSE #> 86       ES_mean -0.082594131  0.05     986           2  0.0081176864    FALSE #> 87       ES_mean -0.043274680  0.05     987           2  0.0291318680    FALSE #> 88       ES_mean -0.026452186  0.05     988           2 -0.0095197782    FALSE #> 89       ES_mean -0.017085110  0.05     989           2  0.0026235462    FALSE #> 90       ES_mean -0.024383600  0.05     990           2  0.0165471020    FALSE #> 91       ES_mean -0.049418852  0.05     991           2  0.0284908983    FALSE #> 92       ES_mean -0.034933459  0.05     992           2  0.0357353231    FALSE #> 93       ES_mean  0.006767592  0.05     993           2 -0.0194203462     TRUE #> 94       ES_mean -0.044361428  0.05     994           2 -0.0147090394    FALSE #> 95       ES_mean -0.061565619  0.05     995           2  0.0001064920    FALSE #> 96       ES_mean -0.046897801  0.05     996           2 -0.0087683229    FALSE #> 97       ES_mean -0.044771525  0.05     997           2 -0.0217268278    FALSE #> 98       ES_mean -0.075774630  0.05     998           2 -0.0021598816    FALSE #> 99       ES_mean -0.029162992  0.05     999           2  0.0048795256    FALSE #> 100      ES_mean -0.026729410  0.05    1000           2 -0.0266539889    FALSE risk_estimates(   risk_roll_cond,   risk_measures = \"ES_mean\",   alpha = 0.05, exceeded = TRUE,   cond_u = c(\"prior_resid\", 0.5) ) #>     risk_measure      risk_est alpha row_num          GOOG      cond_u #> 1        ES_mean -8.969226e-03  0.05     901  9.550933e-04         0.5 #> 2        ES_mean -2.804751e-02  0.05     901 -2.757591e-03 prior_resid #> 3        ES_mean -1.909746e-02  0.05     902  8.997390e-04         0.5 #> 4        ES_mean -2.160931e-02  0.05     902 -4.152955e-03 prior_resid #> 5        ES_mean -1.912365e-02  0.05     903  6.609845e-04         0.5 #> 6        ES_mean -4.882656e-02  0.05     903 -2.015483e-02 prior_resid #> 7        ES_mean -1.258930e-02  0.05     904  1.167225e-03         0.5 #> 8        ES_mean -9.030414e-03  0.05     904  8.204147e-03 prior_resid #> 9        ES_mean -9.566727e-03  0.05     905  1.265419e-03         0.5 #> 10       ES_mean -2.109307e-02  0.05     905  9.014893e-03 prior_resid #> 11       ES_mean -4.665825e-02  0.05     906  1.048973e-03         0.5 #> 12       ES_mean -2.038898e-02  0.05     906 -6.246060e-04 prior_resid #> 13       ES_mean -2.291265e-02  0.05     907  1.133646e-03         0.5 #> 14       ES_mean -2.635716e-03  0.05     907  5.092075e-03 prior_resid #> 15       ES_mean -1.327528e-02  0.05     908  7.006258e-04         0.5 #> 16       ES_mean -4.080337e-02  0.05     908 -2.058985e-02 prior_resid #> 17       ES_mean -4.056613e-06  0.05     909  9.859705e-04         0.5 #> 18       ES_mean -3.251769e-02  0.05     909  8.373618e-08 prior_resid #> 19       ES_mean -2.346315e-02  0.05     910  9.265920e-04         0.5 #> 20       ES_mean -5.986153e-02  0.05     910 -4.287226e-03 prior_resid #> 21       ES_mean -9.339745e-03  0.05     911  1.519462e-03         0.5 #> 22       ES_mean -9.775722e-03  0.05     911  2.302470e-02 prior_resid #> 23       ES_mean -2.101312e-02  0.05     912  1.187653e-03         0.5 #> 24       ES_mean -2.751576e-02  0.05     912  2.107924e-03 prior_resid #> 25       ES_mean -7.153364e-03  0.05     913  9.345145e-04         0.5 #> 26       ES_mean -4.058477e-02  0.05     913 -6.231110e-03 prior_resid #> 27       ES_mean -1.227948e-02  0.05     914  8.936921e-04         0.5 #> 28       ES_mean -3.144599e-02  0.05     914 -5.717352e-03 prior_resid #> 29       ES_mean -2.384018e-02  0.05     915  9.527783e-04         0.5 #> 30       ES_mean -1.307901e-02  0.05     915 -2.082690e-03 prior_resid #> 31       ES_mean -5.070505e-02  0.05     916  1.195162e-03         0.5 #> 32       ES_mean -2.720924e-02  0.05     916  8.342412e-03 prior_resid #> 33       ES_mean -2.879108e-02  0.05     917  1.249437e-03         0.5 #> 34       ES_mean -6.706235e-03  0.05     917  8.994594e-03 prior_resid #> 35       ES_mean -3.136906e-02  0.05     918  1.296675e-03         0.5 #> 36       ES_mean -2.046128e-02  0.05     918  1.061996e-02 prior_resid #> 37       ES_mean -5.068074e-02  0.05     919  1.006790e-03         0.5 #> 38       ES_mean -1.822502e-02  0.05     919 -2.287261e-03 prior_resid #> 39       ES_mean -2.189179e-02  0.05     920  8.091638e-04         0.5 #> 40       ES_mean -3.443878e-02  0.05     920 -9.998128e-03 prior_resid #> 41       ES_mean -2.140004e-02  0.05     921  9.608214e-04         0.5 #> 42       ES_mean -2.001751e-02  0.05     921 -4.790284e-04 prior_resid #> 43       ES_mean -9.937103e-03  0.05     922  1.199896e-03         0.5 #> 44       ES_mean -6.294111e-03  0.05     922  9.028625e-03 prior_resid #> 45       ES_mean -2.457977e-02  0.05     923  8.262888e-04         0.5 #> 46       ES_mean -3.061697e-02  0.05     923 -1.095067e-02 prior_resid #> 47       ES_mean -1.367803e-02  0.05     924  1.043302e-03         0.5 #> 48       ES_mean -1.640779e-02  0.05     924  2.925026e-03 prior_resid #> 49       ES_mean -1.144632e-02  0.05     925  1.075774e-03         0.5 #> 50       ES_mean -1.224247e-02  0.05     925  3.177105e-03 prior_resid #> 51       ES_mean -1.728169e-02  0.05     926  1.072997e-03         0.5 #> 52       ES_mean -1.668718e-02  0.05     926  3.173836e-03 prior_resid #> 53       ES_mean -1.763316e-02  0.05     927  7.829692e-04         0.5 #> 54       ES_mean -4.046381e-02  0.05     927 -1.174745e-02 prior_resid #> 55       ES_mean -1.000241e-02  0.05     928  8.536170e-04         0.5 #> 56       ES_mean -2.129859e-02  0.05     928 -5.058277e-03 prior_resid #> 57       ES_mean -8.802182e-03  0.05     929  8.498522e-04         0.5 #> 58       ES_mean -2.699556e-02  0.05     929 -5.713073e-03 prior_resid #> 59       ES_mean -1.833288e-02  0.05     930  1.144977e-03         0.5 #> 60       ES_mean -1.160506e-02  0.05     930  7.704057e-03 prior_resid #> 61       ES_mean -1.433283e-02  0.05     931  1.270330e-03         0.5 #> 62       ES_mean -1.683490e-02  0.05     931  1.094392e-02 prior_resid #> 63       ES_mean -1.041645e-02  0.05     932  1.058191e-03         0.5 #> 64       ES_mean -5.248625e-02  0.05     932  7.335099e-04 prior_resid #> 65       ES_mean -3.037538e-03  0.05     933  9.074865e-04         0.5 #> 66       ES_mean -2.277222e-02  0.05     933 -4.284156e-03 prior_resid #> 67       ES_mean -3.181537e-02  0.05     934  8.049995e-04         0.5 #> 68       ES_mean -3.160017e-02  0.05     934 -8.482179e-03 prior_resid #> 69       ES_mean -1.237874e-02  0.05     935  1.057855e-03         0.5 #> 70       ES_mean  2.505677e-03  0.05     935  4.390451e-03 prior_resid #> 71       ES_mean -3.116792e-02  0.05     936  1.555015e-03         0.5 #> 72       ES_mean  8.233666e-03  0.05     936  2.598793e-02 prior_resid #> 73       ES_mean -1.822347e-02  0.05     937  1.245006e-03         0.5 #> 74       ES_mean -4.485845e-03  0.05     937  4.811866e-03 prior_resid #> 75       ES_mean -1.301691e-03  0.05     938  1.306491e-03         0.5 #> 76       ES_mean -5.071571e-03  0.05     938  1.008598e-02 prior_resid #> 77       ES_mean -1.888783e-02  0.05     939  9.436638e-04         0.5 #> 78       ES_mean -6.013598e-02  0.05     939 -6.301749e-03 prior_resid #> 79       ES_mean -1.282978e-02  0.05     940  1.118934e-03         0.5 #> 80       ES_mean -1.986139e-02  0.05     940  4.769719e-03 prior_resid #> 81       ES_mean -8.043214e-03  0.05     941  8.931372e-04         0.5 #> 82       ES_mean -3.429969e-02  0.05     941 -6.536229e-03 prior_resid #> 83       ES_mean -1.649506e-02  0.05     942  1.488160e-03         0.5 #> 84       ES_mean  8.537478e-03  0.05     942  2.230214e-02 prior_resid #> 85       ES_mean -6.999005e-03  0.05     943  1.336414e-03         0.5 #> 86       ES_mean  1.328315e-03  0.05     943  8.822328e-03 prior_resid #> 87       ES_mean -8.544980e-03  0.05     944  1.045156e-03         0.5 #> 88       ES_mean -8.258302e-03  0.05     944 -2.065291e-03 prior_resid #> 89       ES_mean -1.388308e-02  0.05     945  9.329199e-04         0.5 #> 90       ES_mean -1.562541e-02  0.05     945 -4.441767e-03 prior_resid #> 91       ES_mean -1.250316e-02  0.05     946  1.440288e-03         0.5 #> 92       ES_mean  5.749859e-03  0.05     946  1.907970e-02 prior_resid #> 93       ES_mean -2.432637e-02  0.05     947  1.074962e-03         0.5 #> 94       ES_mean -9.101021e-03  0.05     947 -1.655799e-03 prior_resid #> 95       ES_mean -1.440349e-02  0.05     948  1.077730e-03         0.5 #> 96       ES_mean -1.338094e-02  0.05     948  1.836081e-03 prior_resid #> 97       ES_mean -6.553461e-03  0.05     949  1.075218e-03         0.5 #> 98       ES_mean -1.579500e-02  0.05     949  2.287120e-03 prior_resid #> 99       ES_mean -5.288676e-03  0.05     950  1.014528e-03         0.5 #> 100      ES_mean -1.066476e-02  0.05     950  1.540184e-04 prior_resid #> 101      ES_mean -1.367562e-02  0.05     951  9.785616e-04         0.5 #> 102      ES_mean -1.095878e-02  0.05     951  6.499964e-04 prior_resid #> 103      ES_mean -1.304010e-02  0.05     952  6.413857e-04         0.5 #> 104      ES_mean -2.278134e-02  0.05     952 -8.876000e-03 prior_resid #> 105      ES_mean -9.220134e-03  0.05     953  1.080590e-03         0.5 #> 106      ES_mean -7.971420e-03  0.05     953  4.184574e-03 prior_resid #> 107      ES_mean -6.624556e-03  0.05     954  2.358328e-04         0.5 #> 108      ES_mean -8.086552e-02  0.05     954 -2.383657e-02 prior_resid #> 109      ES_mean -3.159676e-02  0.05     955  1.026311e-03         0.5 #> 110      ES_mean -9.412221e-03  0.05     955  2.897069e-03 prior_resid #> 111      ES_mean -1.569298e-02  0.05     956  1.080592e-03         0.5 #> 112      ES_mean -3.763157e-03  0.05     956  2.879664e-03 prior_resid #> 113      ES_mean -7.290248e-03  0.05     957  9.397506e-04         0.5 #> 114      ES_mean -3.675433e-03  0.05     957 -8.874099e-04 prior_resid #> 115      ES_mean  3.468905e-03  0.05     958  2.861267e-03         0.5 #> 116      ES_mean  4.362192e-04  0.05     958  7.364423e-02 prior_resid #> 117      ES_mean -3.094042e-02  0.05     959  1.089985e-03         0.5 #> 118      ES_mean -6.352947e-02  0.05     959 -3.719939e-03 prior_resid #> 119      ES_mean -1.123460e-02  0.05     960  1.061810e-03         0.5 #> 120      ES_mean -2.810647e-02  0.05     960 -4.333052e-04 prior_resid #> 121      ES_mean -2.286850e-02  0.05     961  1.393360e-03         0.5 #> 122      ES_mean -1.887275e-02  0.05     961  8.815115e-03 prior_resid #> 123      ES_mean -6.264566e-03  0.05     962  1.073381e-03         0.5 #> 124      ES_mean -3.225302e-02  0.05     962 -1.955699e-04 prior_resid #> 125      ES_mean -1.300294e-02  0.05     963  1.298095e-03         0.5 #> 126      ES_mean -1.424034e-02  0.05     963  6.773789e-03 prior_resid #> 127      ES_mean -2.506362e-02  0.05     964  8.103323e-04         0.5 #> 128      ES_mean -2.355361e-02  0.05     964 -6.704181e-03 prior_resid #> 129      ES_mean -5.189440e-02  0.05     965  1.290640e-03         0.5 #> 130      ES_mean -2.948493e-02  0.05     965  7.545544e-03 prior_resid #> 131      ES_mean -3.100958e-02  0.05     966  1.268384e-03         0.5 #> 132      ES_mean -9.075913e-03  0.05     966  6.137076e-03 prior_resid #> 133      ES_mean -3.353979e-02  0.05     967  7.184847e-04         0.5 #> 134      ES_mean -5.340807e-02  0.05     967 -8.731011e-03 prior_resid #> 135      ES_mean -5.061701e-02  0.05     968  8.803174e-04         0.5 #> 136      ES_mean -2.084334e-02  0.05     968 -2.828705e-03 prior_resid #> 137      ES_mean -2.210111e-02  0.05     969  9.103489e-04         0.5 #> 138      ES_mean -2.091092e-02  0.05     969 -2.140914e-03 prior_resid #> 139      ES_mean -2.277452e-02  0.05     970  9.968801e-04         0.5 #> 140      ES_mean -2.066157e-02  0.05     970  3.495728e-04 prior_resid #> 141      ES_mean -1.195221e-02  0.05     971  8.003441e-04         0.5 #> 142      ES_mean -2.777955e-02  0.05     971 -5.057103e-03 prior_resid #> 143      ES_mean -2.323726e-02  0.05     972  1.402068e-03         0.5 #> 144      ES_mean  3.858034e-03  0.05     972  1.195502e-02 prior_resid #> 145      ES_mean -1.608264e-02  0.05     973  5.251873e-04         0.5 #> 146      ES_mean -5.666527e-02  0.05     973 -1.436926e-02 prior_resid #> 147      ES_mean -1.088819e-02  0.05     974  9.414790e-04         0.5 #> 148      ES_mean -1.633999e-02  0.05     974 -2.460918e-04 prior_resid #> 149      ES_mean -1.804606e-02  0.05     975  1.583178e-03         0.5 #> 150      ES_mean -5.040737e-03  0.05     975  1.686522e-02 prior_resid #> 151      ES_mean -1.581154e-02  0.05     976  1.067895e-03         0.5 #> 152      ES_mean -1.477882e-02  0.05     976  9.093652e-04 prior_resid #> 153      ES_mean -9.520052e-03  0.05     977  1.153554e-03         0.5 #> 154      ES_mean -6.771472e-03  0.05     977  4.483286e-03 prior_resid #> 155      ES_mean -8.006356e-03  0.05     978  1.480269e-03         0.5 #> 156      ES_mean -1.811175e-03  0.05     978  1.350357e-02 prior_resid #> 157      ES_mean -1.841352e-02  0.05     979  7.635099e-04         0.5 #> 158      ES_mean -3.496209e-02  0.05     979 -7.104754e-03 prior_resid #> 159      ES_mean -1.586110e-02  0.05     980  8.592370e-05         0.5 #> 160      ES_mean -1.078781e-01  0.05     980 -2.935625e-02 prior_resid #> 161      ES_mean -8.774160e-03  0.05     981  9.662341e-04         0.5 #> 162      ES_mean -4.686605e-02  0.05     981  6.461406e-04 prior_resid #> 163      ES_mean -3.970512e-03  0.05     982  6.004396e-04         0.5 #> 164      ES_mean -3.820171e-02  0.05     982 -1.145012e-02 prior_resid #> 165      ES_mean -2.999340e-02  0.05     983  5.711262e-04         0.5 #> 166      ES_mean -3.748477e-02  0.05     983 -1.148644e-02 prior_resid #> 167      ES_mean -1.239185e-02  0.05     984  1.232251e-03         0.5 #> 168      ES_mean  6.200240e-03  0.05     984  6.990405e-03 prior_resid #> 169      ES_mean -2.950196e-02  0.05     985  1.510433e-03         0.5 #> 170      ES_mean  6.547145e-03  0.05     985  1.342533e-02 prior_resid #> 171      ES_mean -1.744523e-02  0.05     986  1.491135e-03         0.5 #> 172      ES_mean  4.630533e-03  0.05     986  1.222080e-02 prior_resid #> 173      ES_mean -1.673630e-03  0.05     987  1.245835e-03         0.5 #> 174      ES_mean -7.102908e-03  0.05     987  5.563497e-03 prior_resid #> 175      ES_mean -1.772794e-02  0.05     988  1.151716e-03         0.5 #> 176      ES_mean -3.454269e-02  0.05     988  3.731350e-03 prior_resid #> 177      ES_mean -1.274749e-02  0.05     989  9.717141e-04         0.5 #> 178      ES_mean -2.615792e-02  0.05     989 -7.270245e-04 prior_resid #> 179      ES_mean -7.231228e-03  0.05     990  9.834234e-04         0.5 #> 180      ES_mean -2.132973e-02  0.05     990  1.596895e-04 prior_resid #> 181      ES_mean -1.591872e-02  0.05     991  1.282679e-03         0.5 #> 182      ES_mean  4.576737e-03  0.05     991  8.406134e-03 prior_resid #> 183      ES_mean -6.811430e-03  0.05     992  1.529909e-03         0.5 #> 184      ES_mean  9.211198e-03  0.05     992  1.483391e-02 prior_resid #> 185      ES_mean -6.776987e-03  0.05     993  1.462348e-03         0.5 #> 186      ES_mean  7.822942e-03  0.05     993  1.210468e-02 prior_resid #> 187      ES_mean -1.363883e-02  0.05     994  7.784928e-04         0.5 #> 188      ES_mean -1.967517e-02  0.05     994 -6.607571e-03 prior_resid #> 189      ES_mean -1.273921e-02  0.05     995  7.687714e-04         0.5 #> 190      ES_mean -1.679179e-02  0.05     995 -5.274630e-03 prior_resid #> 191      ES_mean -2.208138e-02  0.05     996  9.158748e-04         0.5 #> 192      ES_mean -8.738504e-03  0.05     996 -1.042817e-03 prior_resid #> 193      ES_mean -1.381270e-02  0.05     997  8.398922e-04         0.5 #> 194      ES_mean -2.034228e-02  0.05     997 -3.297956e-03 prior_resid #> 195      ES_mean -6.249709e-03  0.05     998  8.359409e-04         0.5 #> 196      ES_mean -2.405018e-02  0.05     998 -3.120260e-03 prior_resid #> 197      ES_mean -6.490989e-03  0.05     999  6.928633e-04         0.5 #> 198      ES_mean -2.374726e-02  0.05     999 -7.117465e-03 prior_resid #> 199      ES_mean -1.093176e-02  0.05    1000  8.989089e-04         0.5 #> 200      ES_mean -8.156290e-03  0.05    1000 -9.259374e-04 prior_resid #>     vine_window      realized exceeded #> 1             1 -0.0018385881    FALSE #> 2             1 -0.0018385881    FALSE #> 3             1 -0.0621711113     TRUE #> 4             1 -0.0621711113     TRUE #> 5             1  0.0253128550    FALSE #> 6             1  0.0253128550    FALSE #> 7             1  0.0306299881    FALSE #> 8             1  0.0306299881    FALSE #> 9             1  0.0103185990    FALSE #> 10            1  0.0103185990    FALSE #> 11            1 -0.0086813462    FALSE #> 12            1 -0.0086813462    FALSE #> 13            1 -0.0375519981     TRUE #> 14            1 -0.0375519981     TRUE #> 15            1 -0.0044717387    FALSE #> 16            1 -0.0044717387    FALSE #> 17            1 -0.0072620125     TRUE #> 18            1 -0.0072620125    FALSE #> 19            1  0.0303912928    FALSE #> 20            1  0.0303912928    FALSE #> 21            1 -0.0079964110    FALSE #> 22            1 -0.0079964110    FALSE #> 23            1 -0.0102580352    FALSE #> 24            1 -0.0102580352    FALSE #> 25            1 -0.0038800605    FALSE #> 26            1 -0.0038800605    FALSE #> 27            1  0.0108246338    FALSE #> 28            1  0.0108246338    FALSE #> 29            1  0.0173413876    FALSE #> 30            1  0.0173413876    FALSE #> 31            1  0.0167791727    FALSE #> 32            1  0.0167791727    FALSE #> 33            1  0.0173273738    FALSE #> 34            1  0.0173273738    FALSE #> 35            1 -0.0020944877    FALSE #> 36            1 -0.0020944877    FALSE #> 37            1 -0.0254386287    FALSE #> 38            1 -0.0254386287     TRUE #> 39            1  0.0015681758    FALSE #> 40            1  0.0015681758    FALSE #> 41            1  0.0079634319    FALSE #> 42            1  0.0079634319    FALSE #> 43            1 -0.0303947182     TRUE #> 44            1 -0.0303947182     TRUE #> 45            1  0.0303391289    FALSE #> 46            1  0.0303391289    FALSE #> 47            1  0.0007422696    FALSE #> 48            1  0.0007422696    FALSE #> 49            1  0.0096228399    FALSE #> 50            1  0.0096228399    FALSE #> 51            1 -0.0160386269    FALSE #> 52            1 -0.0160386269    FALSE #> 53            1  0.0045803703    FALSE #> 54            1  0.0045803703    FALSE #> 55            1 -0.0204478551     TRUE #> 56            1 -0.0204478551    FALSE #> 57            1 -0.0040765962    FALSE #> 58            1 -0.0040765962    FALSE #> 59            1 -0.0134517514    FALSE #> 60            1 -0.0134517514     TRUE #> 61            1 -0.0261555208     TRUE #> 62            1 -0.0261555208     TRUE #> 63            1 -0.0197764673     TRUE #> 64            1 -0.0197764673    FALSE #> 65            1 -0.0250208924     TRUE #> 66            1 -0.0250208924     TRUE #> 67            1  0.0157902093    FALSE #> 68            1  0.0157902093    FALSE #> 69            1  0.0200804051    FALSE #> 70            1  0.0200804051    FALSE #> 71            1 -0.0003797436    FALSE #> 72            1 -0.0003797436     TRUE #> 73            1  0.0106274406    FALSE #> 74            1  0.0106274406    FALSE #> 75            1 -0.0042627866     TRUE #> 76            1 -0.0042627866    FALSE #> 77            1  0.0021652375    FALSE #> 78            1  0.0021652375    FALSE #> 79            1  0.0021920993    FALSE #> 80            1  0.0021920993    FALSE #> 81            1  0.0281930384    FALSE #> 82            1  0.0281930384    FALSE #> 83            1  0.0082817798    FALSE #> 84            1  0.0082817798     TRUE #> 85            1  0.0048948638    FALSE #> 86            1  0.0048948638    FALSE #> 87            1 -0.0034468575    FALSE #> 88            1 -0.0034468575    FALSE #> 89            1  0.0120308204    FALSE #> 90            1  0.0120308204    FALSE #> 91            1  0.0024226366    FALSE #> 92            1  0.0024226366     TRUE #> 93            1  0.0083322551    FALSE #> 94            1  0.0083322551    FALSE #> 95            1  0.0216257493    FALSE #> 96            1  0.0216257493    FALSE #> 97            1  0.0064520152    FALSE #> 98            1  0.0064520152    FALSE #> 99            1 -0.0165274326     TRUE #> 100           1 -0.0165274326     TRUE #> 101           2 -0.0344208564     TRUE #> 102           2 -0.0344208564     TRUE #> 103           2 -0.0020277570    FALSE #> 104           2 -0.0020277570    FALSE #> 105           2 -0.0175553306     TRUE #> 106           2 -0.0175553306     TRUE #> 107           2  0.0158232528    FALSE #> 108           2  0.0158232528    FALSE #> 109           2 -0.0074703999    FALSE #> 110           2 -0.0074703999    FALSE #> 111           2  0.0058796351    FALSE #> 112           2  0.0058796351    FALSE #> 113           2  0.1593336266    FALSE #> 114           2  0.1593336266    FALSE #> 115           2  0.0312108993    FALSE #> 116           2  0.0312108993    FALSE #> 117           2  0.0087928238    FALSE #> 118           2  0.0087928238    FALSE #> 119           2 -0.0142490363     TRUE #> 120           2 -0.0142490363    FALSE #> 121           2 -0.0013247312    FALSE #> 122           2 -0.0013247312    FALSE #> 123           2  0.0415373526    FALSE #> 124           2  0.0415373526    FALSE #> 125           2  0.0182112437    FALSE #> 126           2  0.0182112437    FALSE #> 127           2  0.0054458532    FALSE #> 128           2  0.0054458532    FALSE #> 129           2  0.0167550619    FALSE #> 130           2  0.0167550619    FALSE #> 131           2 -0.0053603964    FALSE #> 132           2 -0.0053603964    FALSE #> 133           2 -0.0102568397    FALSE #> 134           2 -0.0102568397    FALSE #> 135           2 -0.0006267974    FALSE #> 136           2 -0.0006267974    FALSE #> 137           2 -0.0084634421    FALSE #> 138           2 -0.0084634421    FALSE #> 139           2 -0.0222462629    FALSE #> 140           2 -0.0222462629     TRUE #> 141           2  0.0212404474    FALSE #> 142           2  0.0212404474    FALSE #> 143           2 -0.0121047106    FALSE #> 144           2 -0.0121047106     TRUE #> 145           2 -0.0041641762    FALSE #> 146           2 -0.0041641762    FALSE #> 147           2  0.0300536863    FALSE #> 148           2  0.0300536863    FALSE #> 149           2  0.0249803196    FALSE #> 150           2  0.0249803196    FALSE #> 151           2  0.0255392108    FALSE #> 152           2  0.0255392108    FALSE #> 153           2  0.0032120208    FALSE #> 154           2  0.0032120208    FALSE #> 155           2 -0.0077427385    FALSE #> 156           2 -0.0077427385     TRUE #> 157           2 -0.0484209603     TRUE #> 158           2 -0.0484209603     TRUE #> 159           2  0.0271292980    FALSE #> 160           2  0.0271292980    FALSE #> 161           2 -0.0169787191     TRUE #> 162           2 -0.0169787191    FALSE #> 163           2 -0.0320713652     TRUE #> 164           2 -0.0320713652    FALSE #> 165           2  0.0057546384    FALSE #> 166           2  0.0057546384    FALSE #> 167           2  0.0056781706    FALSE #> 168           2  0.0056781706     TRUE #> 169           2  0.0082682749    FALSE #> 170           2  0.0082682749    FALSE #> 171           2  0.0021988549    FALSE #> 172           2  0.0021988549     TRUE #> 173           2  0.0252342359    FALSE #> 174           2  0.0252342359    FALSE #> 175           2 -0.0089240806    FALSE #> 176           2 -0.0089240806    FALSE #> 177           2  0.0024986069    FALSE #> 178           2  0.0024986069    FALSE #> 179           2  0.0083738319    FALSE #> 180           2  0.0083738319    FALSE #> 181           2  0.0142573427    FALSE #> 182           2  0.0142573427    FALSE #> 183           2  0.0236398197    FALSE #> 184           2  0.0236398197    FALSE #> 185           2 -0.0134049629     TRUE #> 186           2 -0.0134049629     TRUE #> 187           2 -0.0093428320    FALSE #> 188           2 -0.0093428320    FALSE #> 189           2  0.0013467049    FALSE #> 190           2  0.0013467049    FALSE #> 191           2 -0.0054628367    FALSE #> 192           2 -0.0054628367    FALSE #> 193           2 -0.0185334113     TRUE #> 194           2 -0.0185334113    FALSE #> 195           2  0.0048388271    FALSE #> 196           2  0.0048388271    FALSE #> 197           2  0.0060523258    FALSE #> 198           2  0.0060523258    FALSE #> 199           2 -0.0249925345     TRUE #> 200           2 -0.0249925345     TRUE # }"},{"path":"https://emanuelsommer.github.io/portvine/reference/fitted_marginals.html","id":null,"dir":"Reference","previous_headings":"","what":"Accessor method for the fitted marginal models of (cond_)portvine_roll\nobjects — fitted_marginals","title":"Accessor method for the fitted marginal models of (cond_)portvine_roll\nobjects — fitted_marginals","text":"Extract marginal models ARMA-GARCH models fitted rolling window fashion using rugarch::ugarchroll. residual analysis models encompassed rugarch::ugarchroll class object one can look utility function roll_residuals().","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/fitted_marginals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Accessor method for the fitted marginal models of (cond_)portvine_roll\nobjects — fitted_marginals","text":"","code":"fitted_marginals(roll, ...)  # S4 method for portvine_roll fitted_marginals(roll)"},{"path":"https://emanuelsommer.github.io/portvine/reference/fitted_marginals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Accessor method for the fitted marginal models of (cond_)portvine_roll\nobjects — fitted_marginals","text":"roll Object class portvine_roll child class ... Additional parameters child class methods","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/fitted_marginals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Accessor method for the fitted marginal models of (cond_)portvine_roll\nobjects — fitted_marginals","text":"Named list entry asset containing rugarch::ugarchroll class object encompasses marginal model fit.","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/fitted_vines.html","id":null,"dir":"Reference","previous_headings":"","what":"Accessor method for the fitted vine copula models of (cond_)portvine_roll\nobjects — fitted_vines","title":"Accessor method for the fitted vine copula models of (cond_)portvine_roll\nobjects — fitted_vines","text":"Accessor method fitted vine copula models (cond_)portvine_roll objects","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/fitted_vines.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Accessor method for the fitted vine copula models of (cond_)portvine_roll\nobjects — fitted_vines","text":"","code":"fitted_vines(roll, ...)  # S4 method for portvine_roll fitted_vines(roll)"},{"path":"https://emanuelsommer.github.io/portvine/reference/fitted_vines.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Accessor method for the fitted vine copula models of (cond_)portvine_roll\nobjects — fitted_vines","text":"roll Object class portvine_roll child class ... Additional parameters child class methods","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/fitted_vines.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Accessor method for the fitted vine copula models of (cond_)portvine_roll\nobjects — fitted_vines","text":"List rvinecopulib::vinecop class objects entry corresponds one fitted vine copula model respective vine window.","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/marginal_settings-class.html","id":null,"dir":"Reference","previous_headings":"","what":"S4 class for the marginal settings — marginal_settings-class","title":"S4 class for the marginal settings — marginal_settings-class","text":"Specify marginal models (individual_spec & default_specs) fitted often refit well big training data set . Remember forecasting done rolling window fashion arguments (train refit size) match arguments also specified vine_settings.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/marginal_settings-class.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S4 class for the marginal settings — marginal_settings-class","text":"","code":"marginal_settings(   train_size,   refit_size,   individual_spec = list(),   default_spec = default_garch_spec() )  # S4 method for marginal_settings show(object)"},{"path":"https://emanuelsommer.github.io/portvine/reference/marginal_settings-class.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S4 class for the marginal settings — marginal_settings-class","text":"train_size equivalent slot definition refit_size equivalent slot definition individual_spec equivalent slot definition default_spec equivalent slot definition object object class marginal_settings","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/marginal_settings-class.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"S4 class for the marginal settings — marginal_settings-class","text":"Object class marginal_settings","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/marginal_settings-class.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"S4 class for the marginal settings — marginal_settings-class","text":"specifying list individual_spec argument default_spec function default_garch_spec() might come handy.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/marginal_settings-class.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"S4 class for the marginal settings — marginal_settings-class","text":"marginal_settings(): Class constructor taking arguments specified slots ","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/marginal_settings-class.html","id":"slots","dir":"Reference","previous_headings":"","what":"Slots","title":"S4 class for the marginal settings — marginal_settings-class","text":"train_size Positive count specifying training data size. refit_size Positive count specifying size forecasting window. individual_spec named list. Specify ARMA-GARCH models individual assets naming list entry asset providing rugarch::ugarchspec object. default_spec rugarch::ugarchspec object specifying default marginal model (used marginal model specified individual_spec)","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/marginal_settings-class.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"S4 class for the marginal settings — marginal_settings-class","text":"","code":"# the most basic initialization marginal_settings(train_size = 100, refit_size = 10) #> An object of class <marginal_settings> #> train_size: 100  #> refit_size: 10  #> No custom specifications. # some individualism marginal_settings(   train_size = 100, refit_size = 10,   individual_spec = list(\"GOOG\" = default_garch_spec(ar = 3)),   default_spec = default_garch_spec(dist = \"norm\") ) #> An object of class <marginal_settings> #> train_size: 100  #> refit_size: 10  #> Custom specifications were given for assets: #>  GOOG"},{"path":"https://emanuelsommer.github.io/portvine/reference/portvine_roll-class.html","id":null,"dir":"Reference","previous_headings":"","what":"S4 output class for the function estimate_risk_roll() — portvine_roll-class","title":"S4 output class for the function estimate_risk_roll() — portvine_roll-class","text":"main output class function estimate_risk_roll()portvine_roll conditional case child class cond_portvine_roll extra slots (visible !C!) returned.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/portvine_roll-class.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S4 output class for the function estimate_risk_roll() — portvine_roll-class","text":"","code":"# S4 method for portvine_roll show(object)  # S4 method for cond_portvine_roll show(object)  # S4 method for portvine_roll summary(object)  # S4 method for cond_portvine_roll summary(object)"},{"path":"https://emanuelsommer.github.io/portvine/reference/portvine_roll-class.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S4 output class for the function estimate_risk_roll() — portvine_roll-class","text":"object object class portvine_roll cond_portvine_roll","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/portvine_roll-class.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"S4 output class for the function estimate_risk_roll() — portvine_roll-class","text":"object class portvine_roll object class cond_portvine_roll","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/portvine_roll-class.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"S4 output class for the function estimate_risk_roll() — portvine_roll-class","text":"easy access important slots filtering functionality look accessor methods risk_estimates(), fitted_vines(), fitted_marginals().","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/portvine_roll-class.html","id":"slots","dir":"Reference","previous_headings":"","what":"Slots","title":"S4 output class for the function estimate_risk_roll() — portvine_roll-class","text":"risk_estimates data.table columns risk_measure, risk_est, alpha, row_num, vine_window realized (samples also conditional case used) fitted_marginals named list entry asset containing rugarch::ugarchroll class object encompasses marginal model fit. fitted_vines list rvinecopulib::vinecop class objects entry corresponds one vine window. marginal_settings containing specification used ARMA-GARCH fitting .e. marginal models. class marginal_settings. vine_settings containing specifications used vine fitting. class vine_settings. risk_measures character vector displaying estimated risk measures. alpha numeric vector (0,1) displaying confidence levels used estimating risk measures. weights numeric positive weights assets. (Matrix row corresponding one vine window) weights conditional variables always 0. cond_estimation logical value indicating whether conditional estimation approach risk measures used. n_samples positive numeric count displaying many return samples used risk measure estimation. time_taken numeric value displaying many minutes whole estimation process took. cond_risk_estimates !C! data.table columns risk_estimate slot + additional conditional columns respective conditioning value column character cond_u indicates used conditional quantile level conditional value corresponding residual one time unit prior \"prior_resid\" realized residual \"resid\". cond_vars !C! character vector names variables used sample conditionally . cond_u !C! numeric vector specifying corresponding quantiles (0,1) conditional variable(s) conditioned conditional risk measures calculated.","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/risk_estimates.html","id":null,"dir":"Reference","previous_headings":"","what":"Accessor methods for the risk estimates of (cond_)portvine_roll objects — risk_estimates","title":"Accessor methods for the risk estimates of (cond_)portvine_roll objects — risk_estimates","text":"Accessor methods risk estimates (cond_)portvine_roll objects","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/risk_estimates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Accessor methods for the risk estimates of (cond_)portvine_roll objects — risk_estimates","text":"","code":"risk_estimates(   roll,   risk_measures = NULL,   alpha = NULL,   df = TRUE,   exceeded = FALSE,   ... )  # S4 method for portvine_roll risk_estimates(   roll,   risk_measures = NULL,   alpha = NULL,   df = TRUE,   exceeded = FALSE )  # S4 method for cond_portvine_roll risk_estimates(   roll,   risk_measures = NULL,   alpha = NULL,   df = TRUE,   exceeded = FALSE,   cond = TRUE,   cond_u = NULL )"},{"path":"https://emanuelsommer.github.io/portvine/reference/risk_estimates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Accessor methods for the risk estimates of (cond_)portvine_roll objects — risk_estimates","text":"roll Object class portvine_roll child class risk_measures Character vector risk measures filter . Note must fitted roll argument. default return fitted risk measures alpha Numeric \\(\\alpha\\) levels estimated risk measures filter . Note must fitted roll argument. default return fitted \\(\\alpha\\) levels df Logical value TRUE data.frame returned otherwise data.table returned. exceeded Logical value. set TRUE column named exceeded appended contains logical values telling whether realized portfolio value exceeded estimated risk. ... Additional parameters child class methods cond set TRUE returns conditional risk estimates otherwise returns overall risk estimates. cond_u Numeric character vector specifying corresponding quantiles (0,1) conditional variable(s) conditioned conditional risk measures calculated filter /class \"prior_resid\"/\"resid\". Note must fitted roll argument. default return fitted risk measures.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/risk_estimates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Accessor methods for the risk estimates of (cond_)portvine_roll objects — risk_estimates","text":"(Un-)filtered data.frame data.table (see df argument) least columns risk_measure, risk_est, alpha, row_num, vine_window realized. exceeded column corresponding argument set TRUE. conditional case columns available (see: portvine_roll).","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/roll_residuals.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract fitted standardized residuals from a uGARCHroll object — roll_residuals","title":"Extract fitted standardized residuals from a uGARCHroll object — roll_residuals","text":"rugarch::ugarchroll class object encompasses fitting information number models fitted rolling window fashion. utility function gives easy interface extract fitted residuals one models. can especially helpful assessing model quality residual analysis.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/roll_residuals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract fitted standardized residuals from a uGARCHroll object — roll_residuals","text":"","code":"roll_residuals(ugarchroll, roll_num = 1)"},{"path":"https://emanuelsommer.github.io/portvine/reference/roll_residuals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract fitted standardized residuals from a uGARCHroll object — roll_residuals","text":"ugarchroll Object class rugarch::ugarchroll. roll_num Count specifies fitted model extract residuals .","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/roll_residuals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract fitted standardized residuals from a uGARCHroll object — roll_residuals","text":"Numeric vector fitted standardized residuals.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/sample_returns_small.html","id":null,"dir":"Reference","previous_headings":"","what":"A sample of log returns for 3 assets. — sample_returns_small","title":"A sample of log returns for 3 assets. — sample_returns_small","text":"Data extracted Yahoo Finance representing daily log returns Google, Apple, Amazon stocks 2014-01-13 2018-01-01 results exactly 1000 observations.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/sample_returns_small.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A sample of log returns for 3 assets. — sample_returns_small","text":"","code":"data(sample_returns_small)"},{"path":"https://emanuelsommer.github.io/portvine/reference/sample_returns_small.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A sample of log returns for 3 assets. — sample_returns_small","text":"data.table 3 columns 1000 rows, columns GOOG, AAPL, AMZN contain daily log return 3 stocks.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/sample_returns_small.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"A sample of log returns for 3 assets. — sample_returns_small","text":"Yahoo Finance","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/sample_returns_small.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A sample of log returns for 3 assets. — sample_returns_small","text":"","code":"data(sample_returns_small) head(sample_returns_small) #>            AAPL          GOOG         AMZN #> 1:  0.005221515 -0.0063910288 -0.016940943 #> 2:  0.019702688  0.0232542613  0.016639145 #> 3:  0.019878308 -0.0006788564 -0.004209719 #> 4: -0.005595481  0.0065947671 -0.000176859 #> 5: -0.024806737 -0.0049333142  0.009580031 #> 6:  0.015416878  0.0113819042  0.018446965"},{"path":"https://emanuelsommer.github.io/portvine/reference/vine_settings-class.html","id":null,"dir":"Reference","previous_headings":"","what":"S4 class for the vine settings — vine_settings-class","title":"S4 class for the vine settings — vine_settings-class","text":"Specify vine copula models fitted often refit well big training data set . Remember estimation process done rolling window fashion arguments (train refit size) match arguments also specified marginal_settings.","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/vine_settings-class.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S4 class for the vine settings — vine_settings-class","text":"","code":"vine_settings(train_size, refit_size, family_set = \"all\", vine_type = \"rvine\")  # S4 method for vine_settings show(object)"},{"path":"https://emanuelsommer.github.io/portvine/reference/vine_settings-class.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S4 class for the vine settings — vine_settings-class","text":"train_size equivalent slot definition refit_size equivalent slot definition family_set equivalent slot definition vine_type equivalent slot definition object object class vine_settings","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/vine_settings-class.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"S4 class for the vine settings — vine_settings-class","text":"Object class vine_settings","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/vine_settings-class.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"S4 class for the vine settings — vine_settings-class","text":"vine_settings(): Class constructor taking arguments specified slots ","code":""},{"path":"https://emanuelsommer.github.io/portvine/reference/vine_settings-class.html","id":"slots","dir":"Reference","previous_headings":"","what":"Slots","title":"S4 class for the vine settings — vine_settings-class","text":"train_size Positive count specifying training data size. refit_size Positive count specifying many periods vine used family_set Character vector specifying family copulas used. possible choices see rvinecopulib::bicop. Note conditional sampling just parametric copula families possible use family arguments tll. vine_type character value specifies vine class fitted. Possible choices right now rvine (regular vine) dvine (drawable vine).","code":""},{"path":[]},{"path":"https://emanuelsommer.github.io/portvine/reference/vine_settings-class.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"S4 class for the vine settings — vine_settings-class","text":"","code":"# the most basic initialization vine_settings(100, 25) #> An object of class <vine_settings> #> train_size: 100  #> refit_size: 25  #> family_set: all  #> vine_type: rvine  # some individual note vine_settings(   train_size = 100, refit_size = 20,   family_set = c(\"gumbel\", \"joe\"),   vine_type = \"dvine\" ) #> An object of class <vine_settings> #> train_size: 100  #> refit_size: 20  #> family_set: gumbel joe  #> vine_type: dvine"},{"path":"https://emanuelsommer.github.io/portvine/news/index.html","id":"portvine-103","dir":"Changelog","previous_headings":"","what":"portvine 1.0.3","title":"portvine 1.0.3","text":"Current Development Version","code":""},{"path":"https://emanuelsommer.github.io/portvine/news/index.html","id":"portvine-102","dir":"Changelog","previous_headings":"","what":"portvine 1.0.2","title":"portvine 1.0.2","text":"CRAN release: 2023-01-06 Bugfix: Set shape parameter inverse PIT transformation copula scale residuals use default. Bugfix: Allow 0 orders utility function default_garch_spec() Bugfix: residual calculation allow orders mean variance models different standard (1,1) order","code":""},{"path":"https://emanuelsommer.github.io/portvine/news/index.html","id":"portvine-101","dir":"Changelog","previous_headings":"","what":"portvine 1.0.1","title":"portvine 1.0.1","text":"CRAN release: 2022-05-31 D-vine ordering algorithm: Now using transform normal scale suggested Section 1.4 book Dependence Modeling Copulas (2014) Harry Joe.","code":""},{"path":"https://emanuelsommer.github.io/portvine/news/index.html","id":"portvine-100","dir":"Changelog","previous_headings":"","what":"portvine 1.0.0","title":"portvine 1.0.0","text":"First stable package version.","code":""}]
